{"componentChunkName":"component---src-templates-blog-post-js","path":"/ melhor-do-node.js:pega-ou-passa/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://thais-ribeiro-blog.netlify.com","githubUrl":"https://github.com/thaisribeiro/blog-thais"}},"mdx":{"fields":{"slug":"/ melhor-do-node.js:pega-ou-passa/"},"timeToRead":5,"frontmatter":{"title":"O melhor do Node.js: Pega ou passa? üëç üëé","description":"Ol√° pessoas incr√≠veis da internet, estou de volta para compartilhar com voc√™s uma retrospectiva do que euzinha, eu mesma, myself, aprendi‚Ä¶","categories":[],"date":"December 20, 2019","canonical_link":null},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"O melhor do Node.js: Pega ou passa? üëç üëé\",\n  \"description\": \"Ol√° pessoas incr√≠veis da internet, estou de volta para compartilhar com voc√™s uma retrospectiva do que euzinha, eu mesma, myself, aprendi‚Ä¶\",\n  \"date\": \"2019-12-20T20:37:34.575Z\",\n  \"categories\": [],\n  \"published\": true,\n  \"keywords\": []\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"./asset-1.jpg\",\n    \"alt\": null\n  })), mdx(\"p\", null, \"Ol\\xE1 pessoas incr\\xEDveis da internet, estou de volta para compartilhar com voc\\xEAs uma retrospectiva do que euzinha, eu mesma, myself, aprendi trabalhando com Node.js.\"), mdx(\"p\", null, \"Todos aqui em clima de natal, n\\xE3o me venham com uva passa no arroz, ent\\xE3o antes que voc\\xEAs surtem com o sapatinho deixado na janela pelo papai noel ou por escolher o presente do amigo secreto, vem comigo, porque ano que vem eu tenho certeza que algumas coisas v\\xE3o mudar, pelo menos no teu c\\xF3digo.\"), mdx(\"p\", null, \"Puxa uma cadeira, pegue um caf\\xE9 que nossa saga est\\xE1 para come\\xE7ar \", \"\\\\\", \"o/\"), mdx(\"p\", null, \"Eu sempre me pergunto se sabemos programar bem mesmo, esse tipo de pergunta que fa\\xE7o me faz querer mais sobre o que estou fazendo, voc\\xEA pode fazer algo que funciona ok, ou voc\\xEA pode fazer algo surpreendente bom, o lance aqui \\xE9 n\\xE3o ser mediano, mesmo que a procrastina\\xE7\\xE3o diga o contr\\xE1rio, com isso, como obtermos as melhores pr\\xE1ticas em Node.js?\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Sobre arquitetura, pega ou passa?\"), \" \\uD83D\\uDC4D \\uD83D\\uDC4E\"), mdx(\"p\", null, \"Quando constru\\xEDmos sistemas grandes e complexos a abordagem \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://pt.wikipedia.org/wiki/Sistema_Operacional_Monol%C3%ADtico\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"monol\\xEDtica\"), \" come\\xE7a a ser um grande impasse, pois \\xE9 dif\\xEDcil raciocinar e tomar a\\xE7\\xF5es sobre um software lotado de depend\\xEAncias, muitas vezes levando o software ao famoso c\\xF3digo espaguete.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Qualifica-se de \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"c\\xF3digo espaguete\"), \" um \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://pt.wikipedia.org/wiki/Programa_de_computador\",\n    \"title\": \"Programa de computador\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"programa de computador\"), \" que n\\xE3o segue as regras da \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://pt.wikipedia.org/wiki/Programa%C3%A7%C3%A3o_estruturada\",\n    \"title\": \"Programa√ß√£o estruturada\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"programa\\xE7\\xE3o estruturada\"), \" e abusa de \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://pt.wikipedia.org/wiki/Goto_%28programa%C3%A7%C3%A3o%29\",\n    \"title\": \"Goto (programa√ß√£o)\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"desvios\"), \", condicionais ou n\\xE3o, o que torna sua leitura por seres humanos bem dif\\xEDcil. A express\\xE3o \\xE9 uma cr\\xEDtica a programas mal organizados, por isso dif\\xEDceis de analisar, corrigir e modificar.\")), mdx(\"p\", null, \"Mesmos os arquitetos mais habilidosos ficaria perdido e gastariam muito tempo e esfor\\xE7o para entender o design do c\\xF3digo, cada mudan\\xE7a poderia impactar \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"n\"), \" outras camadas e depend\\xEAncias, ta Thais mas qual a solu\\xE7\\xE3o para esses casos? A solu\\xE7\\xE3o \\xE9 o desenvolvimento de softwares dividindo-os em componentes independentes que chamamos de componentiza\\xE7\\xE3o, cada componente tem sua pr\\xF3pria responsabilidade, vamos h\\xE1 uma analogia, temos dois desenvolvedores, a Maria e o Jo\\xE3o, ambos est\\xE3o trabalhando em uma task que complementa uma a outra, por\\xE9m Jo\\xE3o decidiu fazer na mesma branch que a Maria e n\\xE3o aguardou com que ela subisse a parte dela, quando foram fazer o merge viram que estavam com conflitos para resolver, nesse caso Jo\\xE3o poderia ter evitado isso se recorresse a uma branch nova ou se dividisse a responsabilidade com a Maria sem alterar o c\\xF3digo que ela estava mexendo, separar o c\\xF3digo em componentes podemos evitar que as coisas fiquem t\\xE3o complexas e atribu\\xEDmos responsabilidades para cada componente e evitamos depend\\xEAncias de c\\xF3digos.\"), mdx(\"p\", null, \"Alguns podem chamar esse tipo de abordagem como microsservi\\xE7os, mas precisamos ter em mente que microsservi\\xE7o n\\xE3o s\\xE3o especifica\\xE7\\xF5es que devemos seguir, n\\xE3o \\xE9 uma receita de bolo, mas s\\xE3o conjuntos de princ\\xEDpios que podemos adotar. A componentiza\\xE7\\xE3o pode ser feita de v\\xE1rias formas, o m\\xEDnimo delas \\xE9 dividir a tua regra de neg\\xF3cio em pastas independentes, outros componentes v\\xE3o consumir essas regras atrav\\xE9s de APIs, interfaces p\\xFAblicas, enfim, essa \\xE9 a base para evitar o inferno abrindo caminho para microsservi\\xE7os completos no futuro.\"), mdx(\"p\", null, \"Martin Fowler fala sobre isso microsservi\\xE7os e sistemas monol\\xEDticos no seu blog:\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://martinfowler.com/articles/microservices.html\",\n    \"title\": \"https://martinfowler.com/articles/microservices.html\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, mdx(\"strong\", {\n    parentName: \"a\"\n  }, \"Microservices\"), mdx(\"br\", {\n    parentName: \"a\"\n  }), \"_James Lewis James Lewis is a Principal Consultant at ThoughtWorks and member of the Technology Advisory Board. James\\u2019\\u2026_martinfowler.com\"), mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://martinfowler.com/articles/microservices.html\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  })), mdx(\"p\", null, \"Vamos ver um exemplo de como seria um pega ou passa:\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Passa\"), \" \\uD83D\\uDC4E\"), mdx(\"p\", null, \"Agrupamento de arquivos por fun\\xE7\\xF5es t\\xE9cnicas\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"700px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/f76d060eed57c5ad4c0511837ef41350/7e509/asset-2.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"70.28571428571428%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABFUlEQVQoz5WSSW7DMAxFfY1EkjXGlmRRs4ekyKL3v1RZIMumiIm3IcAHfgkcQgjHcThrAWBdO1atVWs1jqPgHJFCvGOAZYlLyDFmgBgCtgngt30Bi3PvGPZtL7m0WiNEZ713fllCirn3vbettRXHvA9/Msyz02YqbQ8hUcoRQpiQxjmwNlgH3sd3DBiejapXV3LiQlHKUJbSYPx/tJd8M9PlyvdEtp6m2V+vFBFCfyRP08yY/G523zo652RrHaGyAStpUXoi5IyMn8mYeG5qX5sx9uxmT5l8rmLrWanb2TdbjF2AJ/AY+5ycUmZc13toNRsz41GekB+PLy6me6G94HEWJfXlQj6VGRsJGY0ajTFK305t/gHrooY3lOrfowAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"asset 2\",\n    \"title\": \"asset 2\",\n    \"src\": \"/static/f76d060eed57c5ad4c0511837ef41350/8c557/asset-2.png\",\n    \"srcSet\": [\"/static/f76d060eed57c5ad4c0511837ef41350/4edbd/asset-2.png 175w\", \"/static/f76d060eed57c5ad4c0511837ef41350/13ae7/asset-2.png 350w\", \"/static/f76d060eed57c5ad4c0511837ef41350/8c557/asset-2.png 700w\", \"/static/f76d060eed57c5ad4c0511837ef41350/7e509/asset-2.png 745w\"],\n    \"sizes\": \"(max-width: 700px) 100vw, 700px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Pega\"), \" \\uD83D\\uDC4D\"), mdx(\"p\", null, \"Estrutura\\xE7\\xE3o de servi\\xE7os complexos por componentes\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"700px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/26c3a503cf113dcda8ed6bf8c5ed766f/17a7a/asset-3.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"101.14285714285714%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZ0lEQVQ4y5WT626DMAyF+xolgQC5OvcLdKPrpL7/U81t97ObQLJQkHziz8fOKXqfYywp4hcjhVBSep1zDNE7a8DB+zi12jCn5OKdBwNgbMDrclmXy9JWPGCatf5tnJwLSplaF++jdZ6xuSM95xogGuMBgrXxrzhNE58mYW1IqeBl+EvpIIRxLv0j+xULoTA71bUtF85l37Ouo0LoXWKlNCGDVbwki7TzLMgTe5fYGOgoazDfPqqQgBQo3lsZzewIW/P4vSWlHWPjocqWEjaBDMGgc8ewtQbsOdV43Rap4GkY2YuNi0Qp8w5KDvMsX6PiXO0SX69ftJ+SGD9bFBLJ+QFsdOjcDVsZ77eijT82Z0r7ruulFWjYOIrXzuzFxlQUu+zWNeFWIvb5TPZXfohjiq1mHNUwHJkzYmPPno8N11NoIeQh7Id4y/x+a1JZQuhRwwbr55JhmhU+rGPY2LPyqlb3fFV8f+Uflw7ASaSqzmcAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"asset 3\",\n    \"title\": \"asset 3\",\n    \"src\": \"/static/26c3a503cf113dcda8ed6bf8c5ed766f/8c557/asset-3.png\",\n    \"srcSet\": [\"/static/26c3a503cf113dcda8ed6bf8c5ed766f/4edbd/asset-3.png 175w\", \"/static/26c3a503cf113dcda8ed6bf8c5ed766f/13ae7/asset-3.png 350w\", \"/static/26c3a503cf113dcda8ed6bf8c5ed766f/8c557/asset-3.png 700w\", \"/static/26c3a503cf113dcda8ed6bf8c5ed766f/17a7a/asset-3.png 753w\"],\n    \"sizes\": \"(max-width: 700px) 100vw, 700px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Coloque seus componentes em camadas, onde cada camada tenha sua separa\\xE7\\xE3o clara de objetivos e preocupa\\xE7\\xF5es, por exemplo, voc\\xEA j\\xE1 deve ter se deparado com alguns c\\xF3digos em que os devs tendem a misturar camadas\\u200A\\u2014\\u200Aprincipalmente quando o framework usado \\xE9 o Express.js\\u200A\\u2014\\u200Apassando os objetos da camada web (request, response) para a l\\xF3gica de neg\\xF3cios e para a camada de dados, tornando o software dependente e acess\\xEDvel apelas pelo framework, eu li bastante um livro indicado pelo meu arquiteto na \\xE9poca para intensificar meu conhecimento com camadas e padr\\xF5es de arquitetura, caso tenham interesse aqui est\\xE1 o \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.amazon.com.br/Padr%C3%B5es-Arquitetura-Aplica%C3%A7%C3%B5es-Corporativas-Martin/dp/8536306386\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"link\"), \" para a comprar. Voltando ao assunto camadas, o ideal seria pelo menos dividir teus componentes em camadas de neg\\xF3cio, web e dados.\"), mdx(\"p\", null, \"E se existem utilit\\xE1rios que podem ser usados de forma transversal entre os outros componentes? Algo como logger, criptografia e algum util ser\\xE1 melhor aproveitado se separado em seu pr\\xF3prio c\\xF3digo e exposto em um pacote npm, assim fica f\\xE1cil a importa\\xE7\\xE3o do mesmo em outros componentes e at\\xE9 mesmo fora deles.\"), mdx(\"p\", null, \"Tenha um certo carinho tamb\\xE9m n\\xE3o apenas pela estrutura do projeto, precisamos pensar com cuidado onde s\\xE3o guardadas nossas informa\\xE7\\xF5es sejam em configs ou vari\\xE1veis de ambiente e precisamos manter um c\\xF3digo limpo e seguro. Para as vari\\xE1veis de configura\\xE7\\xE3o e de ambiente procure manter vari\\xE1veis confidenciais fora do c\\xF3digo consolidado e configura\\xE7\\xF5es em JSON ser\\xE1 melhor acessado se mantermos o n\\xEDvel hier\\xE1rquico.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Sobre seu c\\xF3digo? Pega ou Passa?\"), \" \\uD83D\\uDC4D \\uD83D\\uDC4E\"), mdx(\"p\", null, \"Erros? Callbacks? Performance?\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Callbacks\")), mdx(\"p\", null, \"D\\xE1 uma olhadinha nessa imagem, Pega ou Passa?\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"700px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/f3472d732ec4aa25065d7ba01e189f49/2fa75/asset-4.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"58.285714285714285%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAEDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeZnIAf/xAAWEAEBAQAAAAAAAAAAAAAAAAABESD/2gAIAQEAAQUCSa//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAEBAQAAAAAAAAAAAAAAAAARASD/2gAIAQEABj8CKa//xAAZEAACAwEAAAAAAAAAAAAAAAABEAARUWH/2gAIAQEAAT8h1rhhpF//2gAMAwEAAgADAAAAENPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhAAAQUBAAAAAAAAAAAAAAAAAQAQESExgf/aAAgBAQABPxDawVpCGNEcYiTZx//Z')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"asset 4\",\n    \"title\": \"asset 4\",\n    \"src\": \"/static/f3472d732ec4aa25065d7ba01e189f49/29d31/asset-4.jpg\",\n    \"srcSet\": [\"/static/f3472d732ec4aa25065d7ba01e189f49/e52aa/asset-4.jpg 175w\", \"/static/f3472d732ec4aa25065d7ba01e189f49/70ebb/asset-4.jpg 350w\", \"/static/f3472d732ec4aa25065d7ba01e189f49/29d31/asset-4.jpg 700w\", \"/static/f3472d732ec4aa25065d7ba01e189f49/2fa75/asset-4.jpg 721w\"],\n    \"sizes\": \"(max-width: 700px) 100vw, 700px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"O nome disso \\xE9 Callback Hell, j\\xE1 ouviram falar? Agora me diz se \\xE9 poss\\xEDvel ter agilidade para entender o c\\xF3digo ou at\\xE9 mesmo se isso \\xE9 algo bonito de se ver, callbacks mal usados s\\xE3o a porta de entrada para o inferno, ent\\xE3o pessoas descobriram onde \\xE9 essa porta e foi l\\xE1 fechar, o javascript com a vinda do V8 nos deu de presente promises e async-await, nos proporcionando assim sintaxes de c\\xF3digo mais compactas e familiares, callbacks n\\xE3o tem uma boa escalabilidade, elas nos for\\xE7am verificar erros em todos os lugares, ent\\xE3o sempre que poss\\xEDvel evite.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Tratamento de Erros\")), mdx(\"p\", null, \"Trate erros de forma centralizada, toda essa l\\xF3gica deve ser encapsulada em um objeto dedicado em que seja consumido pelos endpoints, exemplo:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"700px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/8c2f29e23c2efcbca33abc8d46e01191/5a190/asset-5.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"65.14285714285714%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABuElEQVQoz52R646iQBCFeYidUQEBQYG+VXf1hUbHcVDXzPu/0RYYk/2xyW42+VKppHL6nK5KQAgtJbzQShFSzL3kXLBeca64oF4JMcP5dLncrtN9mhKLVoMOPrCeLQiQ3CGnd4SQ1a5erdbr1XqznuuzeX97f/vxRiRt2x8OnRCUABgTabotyp3UVoAT4HuBbSe6rgfZdh0nDm1fVc3CPqmquq73xnrK2zSHPN/SQGvvbAw2Ohy8HZwbrT/64YwYDXgNDpSV0iSkpGzGRc7EZpOlaV6WNYANepz8Y3L3iJ9huIE9ShyViR5GB1FD4BySru2zrIjIQAHlL8uqLHdaOyXxI9yH88mdLhhu6K8GP4VA+hpjkjE1i9tF/AEtbbjZt5ScYhvjpcQvnIavMT6iP1/88DOEbwzfxl5BH+mVxbnr87yIjtNus2xLkBgxKIVBn9042FPAYwwxDuZswtUMNzs+AEfyTyjqNi92gu3qJku385+r2tqB9Hy+llnQQi7QUSQsVc8LAzBFUabr7GlLYto/DWbBn+CvSiSIrigqktGRXuJmHnP4K8lmkz49f3P+ZzFt6+n5H+JfM7SArcbhxVYAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"asset 5\",\n    \"title\": \"asset 5\",\n    \"src\": \"/static/8c2f29e23c2efcbca33abc8d46e01191/8c557/asset-5.png\",\n    \"srcSet\": [\"/static/8c2f29e23c2efcbca33abc8d46e01191/4edbd/asset-5.png 175w\", \"/static/8c2f29e23c2efcbca33abc8d46e01191/13ae7/asset-5.png 350w\", \"/static/8c2f29e23c2efcbca33abc8d46e01191/8c557/asset-5.png 700w\", \"/static/8c2f29e23c2efcbca33abc8d46e01191/5a190/asset-5.png 800w\"],\n    \"sizes\": \"(max-width: 700px) 100vw, 700px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Na imagem acima encapsulei um erro padr\\xE3o de protocolo 404 dentro da pasta erros e quando eu for usar no meu services, dentro do meu try-catch eu importaria esse tratamento de erro no seu endpoint e faria algo mais ou menos assim:\"), mdx(\"p\", null, \"try {\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"//l\\xF3gica com sucesso\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"} catch (error) {\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"throw new ResourceNotFound() // com ou sem parametros\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"}\"), mdx(\"p\", null, \"Evite usar string quando for lan\\xE7ar algum erro, lance o objeto real ou trate-o de forma correta, strings n\\xE3o s\\xE3o erros:\"), mdx(\"p\", null, \"throw new Error(\\u2018Erro que aconteceu por causa de xpto\\u2019)\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Documenta\\xE7\\xE3o e Testes? Pega ou Passa\"), \" \\uD83D\\uDC4D \\uD83D\\uDC4E\"), mdx(\"p\", null, \"D\\xE1 a m\\xE3ozinha necess\\xE1ria para os seus clientes, eles precisam saber quais s\\xE3o os contratos que devem seguir para enviar e receber informa\\xE7\\xF5es que venham do endpoint, para isso e para que evite todo o momento algu\\xE9m te ligar, mandar aquela famigerada mensagem no whatsapp, documente seu c\\xF3digo.\"), mdx(\"p\", null, \"Existem algumas ferramentas para isso no mercado, como o Swagger, GraphQL ou o pr\\xF3prio Postman, documentar suas APIs \\xE9 resultado de salva\\xE7\\xE3o de infort\\xFAnios e uma ajudinha at\\xE9 para aqueles momentos que voc\\xEA esquecer o que cada coisa faz haha, acontece.\"), mdx(\"p\", null, \"Al\\xE9m de documentar, escrevam testes de API, comece por eles que s\\xE3o mais f\\xE1ceis e proporciona maior cobertura, evolua quando tiver mais tempo para os testes mais avan\\xE7ados, isso evita que algo saia fora da realidade, o Yoni Goldberg escreveu um guia muito bom de pr\\xE1ticas recomendadas de teste:\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Estilo de c\\xF3digo? Pega ou passa?\"), \" \\uD83D\\uDC4D \\uD83D\\uDC4E\"), mdx(\"p\", null, \"Use ESLint no teu c\\xF3digo e se poss\\xEDvel adote um style guide como o \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://standardjs.com/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"Standard\"), \" ou o \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/airbnb/javascript\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"AirBnB\"), \", o ESLint vai ajudar a identificar e consertar poss\\xEDveis erros, existem plugins para IDES, deem uma conferida em qual e como instalar de acordo com a IDE escolhida\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"E quanto a Performance? Pega ou Passa?\"), \" \\uD83D\\uDC4D \\uD83D\\uDC4E\"), mdx(\"p\", null, \"Performance \\xE9 um ambiente vasto e muito extenso para ser explorado apenas aqui, mas o que eu aprendi muito nesse tempo usando Node.js foi que, pelo amor de Deus n\\xE3o use lodash ahahah, na verdade evite sempre usar bibliotecas se \\xE9 poss\\xEDvel usar os m\\xE9todos nativos do Javascript, a introdu\\xE7\\xE3o do V8 e os novos padr\\xF5es ES, os m\\xE9todos nativos foram aprimorados de forma que ele tem cerca de 50% a mais de desempenho que essas bibliotecas. Outra dica \\xE9 importar apenas o que for usar do seu m\\xF3dulo, supondo que voc\\xEA precise usar uma biblioteca como Ramda.js, uma forma de n\\xE3o carregar toda a biblioteca para dentro do seu c\\xF3digo \\xE9 importando apenas a parte que for usar.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"  import { omit } from 'ramda'\\n\")), mdx(\"p\", null, \"No site do Express temos uma lista de melhores pr\\xE1ticas para performar bem em Node.js:\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://expressjs.com/en/advanced/best-practice-performance.html\",\n    \"title\": \"https://expressjs.com/en/advanced/best-practice-performance.html\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, mdx(\"strong\", {\n    parentName: \"a\"\n  }, \"Performance Best Practices Using Express in Production\"), mdx(\"br\", {\n    parentName: \"a\"\n  }), \"_This article discusses performance and reliability best practices for Express applications deployed to production. This\\u2026_expressjs.com\"), mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://expressjs.com/en/advanced/best-practice-performance.html\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  })), mdx(\"p\", null, \"Claro que existem muita bagagem para ser compartilhada, bagagem essa que agrade\\xE7o ao meu antigo arquiteto \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://medium.com/u/ee0aa1b00bbd\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"Thiago Franca\"), \" e meu grande amigo por ter trago tanto conhecimento e sempre me incentivar a buscar mais.\"), mdx(\"p\", null, \"Bom galera, por hoje \\xE9 s\\xF3 e como estamos no finalzinho de 2019 e eu pretendo voltar mais vezes (\\xE9 uma meta) em 2020, fiquem em paz, feliz natal, feliz ano novo e at\\xE9 breve! \\uD83C\\uDF85\\uD83C\\uDFFB\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"6c9e69b8-d8d3-5bf2-9a5e-d023ab31130f","previous":{"id":"f89d545e-c8ab-5768-b0d6-72dd08c4d306","fields":{"slug":"/voce-ja-se-perguntou-como-o-javascript-funciona-por-dentro-dos-motores-+-v8-a-menina-dos-olhos./","published":true},"frontmatter":{"redirect_from":["/voc√™-j√°-se-perguntou-como-o-javascript-funciona-por-dentro-dos-motores-v8-a-menina-dos-olhos-e78de46c7a50"],"title":"Voc√™ j√° se perguntou como o Javascript funciona? Pt. 3"}},"next":{"id":"890f0a75-f726-5db0-932d-45f2d6a4852f","fields":{"slug":"/um-jeito-facil-de-fazer-e-jogar-snake-usando-python/","published":true},"frontmatter":{"redirect_from":null,"title":"Criando o jogo da cobrinha com python. üêç"}}}},"staticQueryHashes":["2589769190","3617321856","4131332129","759284515"]}